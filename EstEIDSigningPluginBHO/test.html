<html>
<head>
<script language="javascript" type="text/javascript">

var signer = null;

function getSigner() {
    if (!window.external) return;
    signer = window.external;
    }

function testCerts() {
    var certList = signer.getCertificateList();
    var certArr = certList.split(",");
    for(i = 0; i < certArr.length; i++){
       dbgArea.value+= certArr[i] + "\r";
    }
    if (certArr.length > 1 ) {
        var cert= signer.getCertificateByThumbprint(certArr[1]);
        if (cert) {
            dbgArea.value+= cert.CN + "\r" + cert.issuerCN + "\r" ;
            signer.sign("blobofdata",cert);
            }
         }
    }
    
function testComponent() {
    signer.sayHello("hello from JavaScript");
    dbgArea.value+= signer.lastName + "\r";
    dbgArea.value+= signer.firstName + "\r";
    dbgArea.value+= signer.middleName + "\r";
    dbgArea.value+= signer.sex + "\r";
    dbgArea.value+= signer.citizenship + "\r";
    dbgArea.value+= signer.birthDate + "\r";
    dbgArea.value+= signer.personalID + "\r";
    dbgArea.value+= signer.documentID + "\r";
    dbgArea.value+= signer.expiryDate + "\r";
    dbgArea.value+= signer.placeOfBirth + "\r";
    dbgArea.value+= signer.issuedDate + "\r";
    dbgArea.value+= signer.residencePermit + "\r";
    dbgArea.value+= signer.comment1 + "\r";
    dbgArea.value+= signer.comment2 + "\r";
    dbgArea.value+= signer.comment3 + "\r";
    dbgArea.value+= signer.comment4 + "\r";
    signedData = signer.sign("0A0B0C0D",0);
    }
</script>

</head>
<body onload="getSigner()">
<input type="button" value="test component" onclick="testComponent()"/>
<input type="button" value="test certs" onclick="testCerts()"/>
<textarea cols="80" rows="20" id="dbgArea" name="dbgArea"></textarea>
</body>
</html>